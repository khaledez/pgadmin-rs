{% extends "base.html" %}

{% block title %}Schema Browser - pgAdmin-rs{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Schema Browser</h2>
        <p class="text-sm text-muted mt-md">Navigate your database structure</p>
    </div>

    <div class="flex gap-lg">
        <!-- Schema List -->
        <div style="flex: 0 0 300px; border-right: 1px solid var(--color-border); padding-right: var(--space-lg);">
            <h3 class="mb-md">Schemas</h3>
            <div id="schema-list"
                 hx-get="/api/schemas"
                 hx-trigger="load"
                 hx-swap="innerHTML"
                 hx-indicator="#schema-spinner">
                <div class="spinner" id="schema-spinner"></div>
                <p class="text-muted">Loading schemas...</p>
            </div>
        </div>

        <!-- Table List -->
        <div style="flex: 0 0 300px; border-right: 1px solid var(--color-border); padding: 0 var(--space-lg);">
            <h3 class="mb-md">Tables</h3>
            <div id="table-list"
                 hx-indicator="#table-spinner">
                <p class="text-muted">Select a schema to view its tables.</p>
            </div>
            <div class="spinner htmx-indicator" id="table-spinner"></div>
        </div>

        <!-- Table Details -->
        <div style="flex: 1; padding-left: var(--space-lg);">
            <div id="table-data-container"
                 hx-indicator="#details-spinner">
                <p class="text-muted">Select a table to view details.</p>
            </div>
            <div class="spinner htmx-indicator" id="details-spinner"></div>
        </div>
    </div>
</div>
{% endblock %}
